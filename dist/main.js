(()=>{var e={903:(e,r,t)=>{const a=t(867);e.exports=()=>{let e=!0,r=[],t=a(5),n=a(5),o=a(3),i=a(3),l=a(2);const u=e=>{switch(e){case"Carrier":return t;case"Battleship":return n;case"Destroyer":return o;case"Submarine":return i;case"PatrolBoat":return l;default:return"Error!"}};return{onStart:()=>{if(!0!==e)return"Cannot run it twice bud";{let e=100;for(let t=0;e>t;t++)r.push("")}return e=!1,r},placeShip:(e,t,a)=>(u(a),((e,t,a)=>{do{r[e]=a,e++,t--}while(0<t)})(e,t,a),r),receiveAttack:(e,t,a)=>{let n=r[e];return""!==n?(u(a).hit(t),r[e]=`${n} - hit`):r[e]="hit",r},allSunk:()=>{let e=[`${t.isSunk()}`,`${n.isSunk()}`,`${o.isSunk()}`,`${i.isSunk()}`,`${l.isSunk()}`];return r=e,a=["true","true","true","true","true"],Array.isArray(r)&&Array.isArray(a)&&r.length===a.length&&r.every(((e,r)=>e===a[r]));var r,a},getGameboardSize:()=>r.length}}},564:(e,r,t)=>{const a=t(903);e.exports=e=>{let r,t=a();r=void 0===e;const n=e=>r=e;return{onRun:()=>{t.onStart()},attack:(t,a,o,i)=>{let l;if(!0===r){let r=t.getGameboard();if(!0===e){let e=Math.floor(Math.random()*(r.getGameboardSize()-0+1)+0);l=r.receiveAttack(e)}else l=r.receiveAttack(a,o,i);t.setTurn(!0),n(!1)}else l="It's not your turn!";return l},getGameboard:()=>t,setTurn:n}}},867:e=>{e.exports=e=>{array=[];const r=e=>array[e]="hit";return{length:e,hit:t=>(0===array.length?((()=>{for(let r=0;e>r;r++)array.push("")})(),r(t)):r(t),array),isSunk:()=>{for(let r=e-1;array.length>=r;r--){if(0==r)return"hit"===array[r];if("hit"!==array[r])return!1}}}}}},r={};function t(a){var n=r[a];if(void 0!==n)return n.exports;var o=r[a]={exports:{}};return e[a](o,o.exports,t),o.exports}(()=>{"use strict";function e(e,r){const t=document.querySelector(".game"),a=document.createElement("div");a.className="gameboard",a.dataset.gameboardPlayer=`${e}`;for(let e=0;r.getGameboard().getGameboardSize()>e;e++){const r=document.createElement("div");r.dataset.cellId=e,r.className="cell",a.append(r)}t.append(a)}const r=t(564);let a,n,o,i;a=r(),n=r(!0),a.onRun(),n.onRun(),o=a.getGameboard(),i=n.getGameboard(),i.placeShip(1,5,"Carrier"),i.placeShip(10,5,"Battleship"),i.placeShip(16,3,"Destroyer"),i.placeShip(27,3,"Submarine"),i.placeShip(50,2,"PatrolBoat"),o.placeShip(3,5,"Carrier"),o.placeShip(15,5,"Battleship"),o.placeShip(26,3,"Destroyer"),o.placeShip(50,3,"Submarine"),o.placeShip(70,2,"PatrolBoat"),e("player",a),e("npc",n)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VHJDLEVBQU1xQyxHQUFjLEdBRXBCQyxFQUFPaEMsUUFDUE4sRUFBSU0sUUFUSkosRUFBa0JvQyxFQUFPM0IsZUFDekI0QixFQUFldkMsRUFBSVcsZUFpQm5CNEIsRUFBYTVELFVBQVUsRUFBRyxFQUFHLFdBQzdCNEQsRUFBYTVELFVBQVUsR0FBSSxFQUFHLGNBQzlCNEQsRUFBYTVELFVBQVUsR0FBSSxFQUFHLGFBQzlCNEQsRUFBYTVELFVBQVUsR0FBSSxFQUFHLGFBQzlCNEQsRUFBYTVELFVBQVUsR0FBSSxFQUFHLGNBRTlCdUIsRUFBZ0J2QixVQUFVLEVBQUcsRUFBRyxXQUNoQ3VCLEVBQWdCdkIsVUFBVSxHQUFJLEVBQUcsY0FDakN1QixFQUFnQnZCLFVBQVUsR0FBSSxFQUFHLGFBQ2pDdUIsRUFBZ0J2QixVQUFVLEdBQUksRUFBRyxhQUNqQ3VCLEVBQWdCdkIsVUFBVSxHQUFJLEVBQUcsY0FmakM2QyxFQUFnQixTQUFVYyxHQUMxQmQsRUFBZ0IsTUFBT3hCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NsYXNzZXMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY2xhc3Nlcy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jbGFzc2VzL3NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2hpcCA9IHJlcXVpcmUoXCIuL3NoaXAuanNcIik7XHJcblxyXG5jb25zdCBHYW1lYm9hcmQgPSAoKSA9PiB7XHJcbiAgbGV0IGZpcnN0UnVuID0gdHJ1ZTtcclxuICBsZXQgZ2FtZWJvYXJkQXJyYXkgPSBbXTtcclxuXHJcbiAgbGV0IGNhcnJpZXIgPSBzaGlwKDUpO1xyXG4gIGxldCBiYXR0bGVzaGlwID0gc2hpcCg1KTtcclxuICBsZXQgZGVzdHJveWVyID0gc2hpcCgzKTtcclxuICBsZXQgc3VibWFyaW5lID0gc2hpcCgzKTtcclxuICBsZXQgcGF0cm9sQm9hdCA9IHNoaXAoMik7XHJcblxyXG4gIGNvbnN0IG9uU3RhcnQgPSAoKSA9PiB7XHJcbiAgICBpZiAoZmlyc3RSdW4gPT09IHRydWUpIHtcclxuICAgICAgbGV0IGNlbGxzID0gMTAwO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGNlbGxzID4gaTsgaSsrKSB7XHJcbiAgICAgICAgZ2FtZWJvYXJkQXJyYXkucHVzaChcIlwiKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFwiQ2Fubm90IHJ1biBpdCB0d2ljZSBidWRcIjtcclxuICAgIH1cclxuICAgIGZpcnN0UnVuID0gZmFsc2U7XHJcbiAgICByZXR1cm4gZ2FtZWJvYXJkQXJyYXk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcGxhY2VTaGlwID0gKGNlbGwsIGxlbmd0aCwgc2hpcE5hbWUpID0+IHtcclxuICAgIGRldGVybWluZVZhcmlhYmxlKHNoaXBOYW1lKTtcclxuICAgIF9hZGRTaGlwVG9BcnJheShjZWxsLCBsZW5ndGgsIHNoaXBOYW1lKTtcclxuICAgIHJldHVybiBnYW1lYm9hcmRBcnJheTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkZXRlcm1pbmVWYXJpYWJsZSA9IChzaGlwTmFtZSkgPT4ge1xyXG4gICAgc3dpdGNoIChzaGlwTmFtZSkge1xyXG4gICAgICBjYXNlIFwiQ2FycmllclwiOlxyXG4gICAgICAgIHJldHVybiBjYXJyaWVyO1xyXG4gICAgICBjYXNlIFwiQmF0dGxlc2hpcFwiOlxyXG4gICAgICAgIHJldHVybiBiYXR0bGVzaGlwO1xyXG4gICAgICBjYXNlIFwiRGVzdHJveWVyXCI6XHJcbiAgICAgICAgcmV0dXJuIGRlc3Ryb3llcjtcclxuICAgICAgY2FzZSBcIlN1Ym1hcmluZVwiOlxyXG4gICAgICAgIHJldHVybiBzdWJtYXJpbmU7XHJcbiAgICAgIGNhc2UgXCJQYXRyb2xCb2F0XCI6XHJcbiAgICAgICAgcmV0dXJuIHBhdHJvbEJvYXQ7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIFwiRXJyb3IhXCI7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZGluYXRlLCBzaGlwQ29vcmRpbmF0ZSwgc2hpcE5hbWUpID0+IHtcclxuICAgIC8vIHNoaXBDb29yZGluYXRlIHNob3VsZCBiZSBpbnNpZGUgdGhlIGRpdiBmb3IgdGhlIHNoaXAgZWxlbWVudFxyXG4gICAgLy8gZmlyc3QgYm94IG9mIHRoZSBzaGlwID0gMCwgc2Vjb25kIGJveCA9IDEsIGV0YywgZXRjLCB0aGlzIHdpbGwgYmUgZGVmaWVuZCB3aXRoIGRhdGEtc2hpcC1pZFxyXG4gICAgbGV0IGluQXJyYXkgPSBnYW1lYm9hcmRBcnJheVtjb29yZGluYXRlXTtcclxuXHJcbiAgICBpZiAoaW5BcnJheSAhPT0gXCJcIikge1xyXG4gICAgICBsZXQgc2hpcE9iamVjdCA9IGRldGVybWluZVZhcmlhYmxlKHNoaXBOYW1lKTtcclxuICAgICAgc2hpcE9iamVjdC5oaXQoc2hpcENvb3JkaW5hdGUpO1xyXG5cclxuICAgICAgZ2FtZWJvYXJkQXJyYXlbY29vcmRpbmF0ZV0gPSBgJHtpbkFycmF5fSAtIGhpdGA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnYW1lYm9hcmRBcnJheVtjb29yZGluYXRlXSA9IFwiaGl0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGdhbWVib2FyZEFycmF5O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IF9hZGRTaGlwVG9BcnJheSA9IChjZWxsLCBsZW5ndGgsIHNoaXBOYW1lKSA9PiB7XHJcbiAgICBkbyB7XHJcbiAgICAgIGdhbWVib2FyZEFycmF5W2NlbGxdID0gc2hpcE5hbWU7XHJcblxyXG4gICAgICBjZWxsKys7XHJcbiAgICAgIGxlbmd0aC0tO1xyXG4gICAgfSB3aGlsZSAoMCA8IGxlbmd0aCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWxsU3VuayA9ICgpID0+IHtcclxuICAgIGxldCBhcnJheSA9IFtcclxuICAgICAgYCR7Y2Fycmllci5pc1N1bmsoKX1gLFxyXG4gICAgICBgJHtiYXR0bGVzaGlwLmlzU3VuaygpfWAsXHJcbiAgICAgIGAke2Rlc3Ryb3llci5pc1N1bmsoKX1gLFxyXG4gICAgICBgJHtzdWJtYXJpbmUuaXNTdW5rKCl9YCxcclxuICAgICAgYCR7cGF0cm9sQm9hdC5pc1N1bmsoKX1gLFxyXG4gICAgXTtcclxuXHJcbiAgICBsZXQgdHJ1ZUFycmF5ID0gW1widHJ1ZVwiLCBcInRydWVcIiwgXCJ0cnVlXCIsIFwidHJ1ZVwiLCBcInRydWVcIl07XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IGFycmF5RXF1YWxzKGFycmF5LCB0cnVlQXJyYXkpO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXJyYXlFcXVhbHMgPSAoYSwgYikgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgQXJyYXkuaXNBcnJheShhKSAmJlxyXG4gICAgICBBcnJheS5pc0FycmF5KGIpICYmXHJcbiAgICAgIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJlxyXG4gICAgICBhLmV2ZXJ5KCh2YWwsIGluZGV4KSA9PiB2YWwgPT09IGJbaW5kZXhdKVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRHYW1lYm9hcmRTaXplID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIGdhbWVib2FyZEFycmF5Lmxlbmd0aDtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgb25TdGFydCxcclxuICAgIHBsYWNlU2hpcCxcclxuICAgIHJlY2VpdmVBdHRhY2ssXHJcbiAgICBhbGxTdW5rLFxyXG4gICAgZ2V0R2FtZWJvYXJkU2l6ZSxcclxuICB9O1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBHYW1lYm9hcmQ7XHJcbiIsImNvbnN0IGdhbWVib2FyZCA9IHJlcXVpcmUoXCIuL2dhbWVib2FyZFwiKTtcclxuXHJcbmNvbnN0IHBsYXllciA9IChucGMgPSB1bmRlZmluZWQpID0+IHtcclxuICBsZXQgdHVybjtcclxuICBsZXQgcGxheWVyR2FtZWJvYXJkID0gZ2FtZWJvYXJkKCk7XHJcblxyXG4gIGlmIChucGMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgdHVybiA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHR1cm4gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9uUnVuID0gKCkgPT4ge1xyXG4gICAgcGxheWVyR2FtZWJvYXJkLm9uU3RhcnQoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRHYW1lYm9hcmQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gcGxheWVyR2FtZWJvYXJkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldFR1cm4gPSAoYm9vbGVhbikgPT4ge1xyXG4gICAgcmV0dXJuICh0dXJuID0gYm9vbGVhbik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNrID0gKG5wY09iamVjdCwgY29vcmRpbmF0ZSwgc2hpcENvb3JkaW5hdGUsIHNoaXBOYW1lKSA9PiB7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG5cclxuICAgIGlmICh0dXJuID09PSB0cnVlKSB7XHJcbiAgICAgIGxldCBvcHBvbmVudEdhbWVib2FyZCA9IG5wY09iamVjdC5nZXRHYW1lYm9hcmQoKTtcclxuXHJcbiAgICAgIGlmIChucGMgPT09IHRydWUpIHtcclxuICAgICAgICBsZXQgcmFuZG9tQ29vcmRpbmF0ZSA9IE1hdGguZmxvb3IoXHJcbiAgICAgICAgICBNYXRoLnJhbmRvbSgpICogKG9wcG9uZW50R2FtZWJvYXJkLmdldEdhbWVib2FyZFNpemUoKSAtIDAgKyAxKSArIDBcclxuICAgICAgICApO1xyXG4gICAgICAgIHJlc3VsdCA9IG9wcG9uZW50R2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socmFuZG9tQ29vcmRpbmF0ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gb3Bwb25lbnRHYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhcclxuICAgICAgICAgIGNvb3JkaW5hdGUsXHJcbiAgICAgICAgICBzaGlwQ29vcmRpbmF0ZSxcclxuICAgICAgICAgIHNoaXBOYW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbnBjT2JqZWN0LnNldFR1cm4odHJ1ZSk7XHJcbiAgICAgIHNldFR1cm4oZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gXCJJdCdzIG5vdCB5b3VyIHR1cm4hXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgb25SdW4sXHJcbiAgICBhdHRhY2ssXHJcbiAgICBnZXRHYW1lYm9hcmQsXHJcbiAgICBzZXRUdXJuLFxyXG4gIH07XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHBsYXllcjtcclxuIiwiY29uc3Qgc2hpcCA9IChsZW5ndGgpID0+IHtcclxuICBhcnJheSA9IFtdO1xyXG5cclxuICBjb25zdCBoaXQgPSAobikgPT4ge1xyXG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjcmVhdGVBcnJheSgpO1xyXG4gICAgICByZWFsSGl0KG4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVhbEhpdChuKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcnJheTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZWFsSGl0ID0gKG4pID0+IHtcclxuICAgIHJldHVybiAoYXJyYXlbbl0gPSBcImhpdFwiKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjcmVhdGVBcnJheSA9ICgpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBsZW5ndGggPiBpOyBpKyspIHtcclxuICAgICAgYXJyYXkucHVzaChcIlwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gbGVuZ3RoIC0gMTsgYXJyYXkubGVuZ3RoID49IGk7IGktLSkge1xyXG4gICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSBcImhpdFwiKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhcnJheVtpXSA9PT0gXCJoaXRcIikge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBsZW5ndGgsXHJcbiAgICBoaXQsXHJcbiAgICBpc1N1bmssXHJcbiAgfTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gc2hpcDtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImZ1bmN0aW9uIGNyZWF0ZUdhbWVib2FyZChwbGF5ZXJOYW1lLCBvYmplY3QpIHtcclxuICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lXCIpO1xyXG5cclxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcImdhbWVib2FyZFwiO1xyXG4gIGNvbnRhaW5lci5kYXRhc2V0LmdhbWVib2FyZFBsYXllciA9IGAke3BsYXllck5hbWV9YDtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IG9iamVjdC5nZXRHYW1lYm9hcmQoKS5nZXRHYW1lYm9hcmRTaXplKCkgPiBpOyBpKyspIHtcclxuICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY2VsbC5kYXRhc2V0LmNlbGxJZCA9IGk7XHJcbiAgICBjZWxsLmNsYXNzTmFtZSA9IFwiY2VsbFwiO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZChjZWxsKTtcclxuICB9XHJcblxyXG4gIG1haW5Db250YWluZXIuYXBwZW5kKGNvbnRhaW5lcik7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGNyZWF0ZUdhbWVib2FyZCB9O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVHYW1lYm9hcmQgfSBmcm9tIFwiLi9kb21cIjtcclxuXHJcbmNvbnN0IHBsYXllckZhY3RvcnkgPSByZXF1aXJlKFwiLi9jbGFzc2VzL3BsYXllclwiKTtcclxuXHJcbmxldCBwbGF5ZXI7XHJcbmxldCBucGM7XHJcblxyXG5sZXQgcGxheWVyR2FtZWJvYXJkO1xyXG5sZXQgbnBjR2FtZWJvYXJkO1xyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICBjcmVhdGVQbGF5ZXJzKCk7XHJcbiAgZ2V0R2FtZWJvYXJkcygpO1xyXG4gIHBsYWNlU2hpcHMoKTtcclxuICBjcmVhdGVHYW1lYm9hcmRzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEdhbWVib2FyZHMoKSB7XHJcbiAgcGxheWVyR2FtZWJvYXJkID0gcGxheWVyLmdldEdhbWVib2FyZCgpO1xyXG4gIG5wY0dhbWVib2FyZCA9IG5wYy5nZXRHYW1lYm9hcmQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUGxheWVycygpIHtcclxuICBwbGF5ZXIgPSBwbGF5ZXJGYWN0b3J5KCk7XHJcbiAgbnBjID0gcGxheWVyRmFjdG9yeSh0cnVlKTtcclxuXHJcbiAgcGxheWVyLm9uUnVuKCk7XHJcbiAgbnBjLm9uUnVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUdhbWVib2FyZHMoKSB7XHJcbiAgY3JlYXRlR2FtZWJvYXJkKFwicGxheWVyXCIsIHBsYXllcik7XHJcbiAgY3JlYXRlR2FtZWJvYXJkKFwibnBjXCIsIG5wYyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYWNlU2hpcHMoKSB7XHJcbiAgbnBjR2FtZWJvYXJkLnBsYWNlU2hpcCgxLCA1LCBcIkNhcnJpZXJcIik7XHJcbiAgbnBjR2FtZWJvYXJkLnBsYWNlU2hpcCgxMCwgNSwgXCJCYXR0bGVzaGlwXCIpO1xyXG4gIG5wY0dhbWVib2FyZC5wbGFjZVNoaXAoMTYsIDMsIFwiRGVzdHJveWVyXCIpO1xyXG4gIG5wY0dhbWVib2FyZC5wbGFjZVNoaXAoMjcsIDMsIFwiU3VibWFyaW5lXCIpO1xyXG4gIG5wY0dhbWVib2FyZC5wbGFjZVNoaXAoNTAsIDIsIFwiUGF0cm9sQm9hdFwiKTtcclxuXHJcbiAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcCgzLCA1LCBcIkNhcnJpZXJcIik7XHJcbiAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcCgxNSwgNSwgXCJCYXR0bGVzaGlwXCIpO1xyXG4gIHBsYXllckdhbWVib2FyZC5wbGFjZVNoaXAoMjYsIDMsIFwiRGVzdHJveWVyXCIpO1xyXG4gIHBsYXllckdhbWVib2FyZC5wbGFjZVNoaXAoNTAsIDMsIFwiU3VibWFyaW5lXCIpO1xyXG4gIHBsYXllckdhbWVib2FyZC5wbGFjZVNoaXAoNzAsIDIsIFwiUGF0cm9sQm9hdFwiKTtcclxufVxyXG5cclxuZXhwb3J0IHsgaW5pdGlhbGl6ZSB9O1xyXG4iXSwibmFtZXMiOlsic2hpcCIsIm1vZHVsZSIsImV4cG9ydHMiLCJmaXJzdFJ1biIsImdhbWVib2FyZEFycmF5IiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJwYXRyb2xCb2F0IiwiZGV0ZXJtaW5lVmFyaWFibGUiLCJzaGlwTmFtZSIsIm9uU3RhcnQiLCJjZWxscyIsImkiLCJwdXNoIiwicGxhY2VTaGlwIiwiY2VsbCIsImxlbmd0aCIsIl9hZGRTaGlwVG9BcnJheSIsInJlY2VpdmVBdHRhY2siLCJjb29yZGluYXRlIiwic2hpcENvb3JkaW5hdGUiLCJpbkFycmF5IiwiaGl0IiwiYWxsU3VuayIsImFycmF5IiwiaXNTdW5rIiwiYSIsImIiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsInZhbCIsImluZGV4IiwiZ2V0R2FtZWJvYXJkU2l6ZSIsImdhbWVib2FyZCIsIm5wYyIsInR1cm4iLCJwbGF5ZXJHYW1lYm9hcmQiLCJ1bmRlZmluZWQiLCJzZXRUdXJuIiwiYm9vbGVhbiIsIm9uUnVuIiwiYXR0YWNrIiwibnBjT2JqZWN0IiwicmVzdWx0Iiwib3Bwb25lbnRHYW1lYm9hcmQiLCJnZXRHYW1lYm9hcmQiLCJyYW5kb21Db29yZGluYXRlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmVhbEhpdCIsIm4iLCJjcmVhdGVBcnJheSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjcmVhdGVHYW1lYm9hcmQiLCJwbGF5ZXJOYW1lIiwib2JqZWN0IiwibWFpbkNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJkYXRhc2V0IiwiZ2FtZWJvYXJkUGxheWVyIiwiY2VsbElkIiwiYXBwZW5kIiwicGxheWVyRmFjdG9yeSIsInBsYXllciIsIm5wY0dhbWVib2FyZCJdLCJzb3VyY2VSb290IjoiIn0=